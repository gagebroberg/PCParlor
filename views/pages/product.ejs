<!DOCTYPE html>
<html>
    <head>
        <%- include ("../partials/header.ejs") %>
        <!-- <link rel="stylesheet" href=""> -->
    </head>

    <body>
        <%- include ("../partials/nav.ejs") %>

        <div class="container">

            <!-- Page title -->
            <h2><%= searchTerm %></h2>
            <br>
            <p>Found the following <%= itemCount %> items:</p>

            <script>
                function newRoute(search){
                    console.log(search);
                    location.href = '/details/' + search;
                }
            </script>

            <div id="table" style="border: solid #ddd 2px; border-radius: 10px; overflow: hidden;">
                <table class="table">
                    <tr class="header">
                        <th>Product Title <i class="fa-solid fa-caret-down"></i></th>
                        <th>Picture <i class="fa-solid fa-caret-down"></i></th>
                        <th>Seller Location <i class="fa-solid fa-caret-down"></i></th>
                        <th>Price <i class="fa-solid fa-caret-down"></i></th>
                    </tr>
                <% data.forEach(function(item) { %>
                    <tr class="data" onClick="newRoute('<%= searchTerm %>')">
                        <td><%= item.title %></td>
                        <td><img src="<%= item.picture %>" alt=""></td>
                        <td><%= item.location %></td>
                        <td><%= item.price %></td>
                    </tr>
                <% }); %>
                </table>
            </div>
        </div>
    </body>
</html>